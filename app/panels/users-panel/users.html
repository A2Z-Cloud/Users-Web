<div v-el:service-panel class="UsersPanel panel">
    <user-creator v-if="show_create_component" :completed="close_create_component">
        <button
            slot="footer-one"
            class="u-full-width"
            :class="{'button-primary': !show_create_component}"
            @click="show_create_component = !show_create_component">
                {{ show_create_component ? 'Cancel' : 'Create New User' }}
        </button>
    </user-creator>

    <infinite-table
        v-else
        :columns="['first_name', 'last_name', 'email', 'invite_accepted', 'invite_link']"
        :items="users"
        :fetch_next="fetch_next"
        :fetch_next_search="fetch_next_search"
        :display_table_cell_type="display_table_cell_type"
        :display_table_cell="display_table_cell"
        :item_clicked="item_clicked">
            <span class="centre-header" slot="invite_accepted_header">invite accepted</span>
            <span class="centre-header" slot="invite_link_header">invite link</span>

            <button
                slot="action-one"
                :class="{'button-primary': !show_create_component}"
                @click="show_create_component = !show_create_component">
                    {{ show_create_component ? 'Cancel' : 'Create New User' }}
            </button>
    </infinite-table>
</div>
